EDITOR={sceneId:null,selectedItem:null,render:function(a){var b=SCENES[a];if(!b){a=new Date().getTime();b={x:0,y:0,w:1280,h:480,enemies:[],mainPlayer:{g:"dani",x:0,y:4,a:200,l:100}};SCENES[a]=b}EDITOR.sceneId=a;SCENE.load(b,true);CANVAS.tag.width=b.w;CANVAS.tag.height=b.h;$("main").className="edit";EDITOR.selectedItem=CANVAS.get("background");EDITOR.renderGrid();EDITOR.renderInspector();THREAD.start(function(c){if(c){CANVAS.clear().draw()}})},renderGrid:function(){var b=cE("canvas"),a=b.getContext("2d");b.width=20*CANVAS.scaleX;b.height=20*CANVAS.scaleY;a.globalAlpha=0.25;a.fillStyle="#ff0";a.fillRect(0,0,b.width,b.height);a.clearRect(CANVAS.scaleX,CANVAS.scaleY,b.width-(CANVAS.scaleX*2),b.height-(CANVAS.scaleY*2));b.src="editorGrid"+b.width+"_"+b.height;if(CANVAS.get("editorGrid",true)!==false){CANVAS.remove("editorGrid")}CANVAS.add("editorGrid",0,0,SCENE.w,SCENE.h,b,null,null,null,CANVAS.get("background",true))},renderInspector:function(){var d=EDITOR.selectedItem,e,c=cE("h1"),a=$("inspector"),b=function(g,j){var k=cE("p"),f=cE("label"),h=cE("input");f.innerHTML=g;k.appendChild(f);h.value=j;k.appendChild(h);a.appendChild(k)};emptyNode(a);c.innerHTML=d.id;a.appendChild(c);b("x",d.x);b("y",d.y);b("w",d.w);b("h",d.h);if(d.id==="background"){e=SCENES[EDITOR.sceneId];b("t",e.background||"")}}};EDITOR.render();